{{ define "main" }}
  <div id="map"></div>
  <style>
    #map { width: 100%; height: 500px; }
  </style>
  <script src='https://api.mapbox.com/mapbox-gl-js/v0.49.0/mapbox-gl.js'></script>
  <link href='https://api.mapbox.com/mapbox-gl-js/v0.49.0/mapbox-gl.css' rel='stylesheet' />
  <script>
    mapboxgl.accessToken = 'pk.eyJ1IjoiZnJlc2hjb2RlcyIsImEiOiJjaXlkM2gwMHkwMHQ4Mndxa3V1bjA4djQ1In0.ORaR0rEPEdgA9EbMx7as0Q'
    let map = new mapboxgl.Map({
      container: 'map',
      style: 'mapbox://styles/mapbox/streets-v10',
      zoom: 2,
      center: [-98.5795, 39.8283]
    })
    map.on('load', function () {
      // map.addSource('locations', {
      //
      // })
      map.addLayer({
        id: 'locations',
        type: 'symbol',
        source: {
          type: 'geojson',
          data: '/locations/index.geojson'//,
          // cluster: true,
          // clusterRadius: 25
        },
        layout: {
          'icon-image': 'circle-15',
          'icon-allow-overlap': true
        }
      })
    })
  </script>
{{ end }}
